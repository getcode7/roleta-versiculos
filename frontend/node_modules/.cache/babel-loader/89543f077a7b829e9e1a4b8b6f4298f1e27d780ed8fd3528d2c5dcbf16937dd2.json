{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import{versiculos}from\"./versiculos\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CardVersiculo(_ref){let{data}=_ref;if(!data)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"card-versiculo\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"card-capitulo\",children:data.capitulo}),/*#__PURE__*/_jsx(\"span\",{className:\"card-versiculo-num\",children:data.versiculo}),/*#__PURE__*/_jsx(\"span\",{className:\"card-livro\",children:data.livro}),/*#__PURE__*/_jsx(\"span\",{className:\"card-texto\",children:data.texto})]});}function Comentarios(){const[comentarios,setComentarios]=useState([]);const[novoComentario,setNovoComentario]=useState(\"\");useEffect(()=>{fetch(\"http://localhost:5000/comentarios\").then(res=>res.json()).then(setComentarios);},[]);function handleEnviar(e){e.preventDefault();fetch(\"http://localhost:5000/comentarios\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({texto:novoComentario})}).then(res=>res.json()).then(comentario=>{setComentarios([...comentarios,comentario]);setNovoComentario(\"\");});}return/*#__PURE__*/_jsxs(\"div\",{className:\"comentarios-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Coment\\xE1rios\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleEnviar,children:[/*#__PURE__*/_jsx(\"input\",{value:novoComentario,onChange:e=>setNovoComentario(e.target.value),placeholder:\"Deixe seu coment\\xE1rio\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Enviar\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:comentarios.map(c=>/*#__PURE__*/_jsx(\"li\",{children:c.texto},c.id))})]});}function App(){const[sorteado,setSorteado]=useState(null);const[girando,setGirando]=useState(false);const[jaSorteou,setJaSorteou]=useState(false);const timeoutRef=useRef(null);useEffect(()=>{const flag=localStorage.getItem(\"jaSorteou\");if(flag===\"true\"){setJaSorteou(true);}},[]);function iniciarRoleta(){if(girando||jaSorteou)return;setSorteado(null);setGirando(true);if(timeoutRef.current)clearTimeout(timeoutRef.current);timeoutRef.current=setTimeout(()=>{const indiceAleatorio=Math.floor(Math.random()*versiculos.length);setSorteado(versiculos[indiceAleatorio]);setGirando(false);setJaSorteou(true);localStorage.setItem(\"jaSorteou\",\"true\");timeoutRef.current=null;},1200);}useEffect(()=>{return()=>{if(timeoutRef.current)clearTimeout(timeoutRef.current);};},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"rain-overlay\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"titulo\",children:\"Tudo tem um prop\\xF3sito debaixo do c\\xE9u.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:iniciarRoleta,disabled:girando||jaSorteou,className:\"btn-roleta\",children:jaSorteou?\"Deus seja contigo!\":girando?\"Procurando...\":\"Ver\"}),girando&&/*#__PURE__*/_jsx(\"div\",{className:\"card-placeholder\",children:\"Espere por Favor\"}),!girando&&sorteado&&/*#__PURE__*/_jsx(CardVersiculo,{data:sorteado}),/*#__PURE__*/_jsx(Comentarios,{})]})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","versiculos","jsx","_jsx","jsxs","_jsxs","CardVersiculo","_ref","data","className","children","capitulo","versiculo","livro","texto","Comentarios","comentarios","setComentarios","novoComentario","setNovoComentario","fetch","then","res","json","handleEnviar","e","preventDefault","method","headers","body","JSON","stringify","comentario","onSubmit","value","onChange","target","placeholder","type","map","c","id","App","sorteado","setSorteado","girando","setGirando","jaSorteou","setJaSorteou","timeoutRef","flag","localStorage","getItem","iniciarRoleta","current","clearTimeout","setTimeout","indiceAleatorio","Math","floor","random","length","setItem","onClick","disabled"],"sources":["C:/Users/ecleb/Desktop/DEVSELF/Evangelismo_Qrcode/roleta-versiculos/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { versiculos } from \"./versiculos\";\r\nimport \"./App.css\";\r\n\r\nfunction CardVersiculo({ data }) {\r\n  if (!data) return null;\r\n  return (\r\n    <div className=\"card-versiculo\">\r\n      <span className=\"card-capitulo\">{data.capitulo}</span>\r\n      <span className=\"card-versiculo-num\">{data.versiculo}</span>\r\n      <span className=\"card-livro\">{data.livro}</span>\r\n      <span className=\"card-texto\">{data.texto}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Comentarios() {\r\n  const [comentarios, setComentarios] = useState([]);\r\n  const [novoComentario, setNovoComentario] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/comentarios\")\r\n      .then(res => res.json())\r\n      .then(setComentarios);\r\n  }, []);\r\n\r\n  function handleEnviar(e) {\r\n    e.preventDefault();\r\n    fetch(\"http://localhost:5000/comentarios\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ texto: novoComentario })\r\n    })\r\n      .then(res => res.json())\r\n      .then((comentario) => {\r\n        setComentarios([...comentarios, comentario]);\r\n        setNovoComentario(\"\");\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"comentarios-container\">\r\n      <h3>Comentários</h3>\r\n      <form onSubmit={handleEnviar}>\r\n        <input\r\n          value={novoComentario}\r\n          onChange={e => setNovoComentario(e.target.value)}\r\n          placeholder=\"Deixe seu comentário\"\r\n        />\r\n        <button type=\"submit\">Enviar</button>\r\n      </form>\r\n      <ul>\r\n        {comentarios.map(c => (\r\n          <li key={c.id}>{c.texto}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  const [sorteado, setSorteado] = useState(null);\r\n  const [girando, setGirando] = useState(false);\r\n  const [jaSorteou, setJaSorteou] = useState(false);\r\n  const timeoutRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const flag = localStorage.getItem(\"jaSorteou\");\r\n    if (flag === \"true\") {\r\n      setJaSorteou(true);\r\n    }\r\n  }, []);\r\n\r\n  function iniciarRoleta() {\r\n    if (girando || jaSorteou) return;\r\n\r\n    setSorteado(null);\r\n    setGirando(true);\r\n\r\n    if (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n\r\n    timeoutRef.current = setTimeout(() => {\r\n      const indiceAleatorio = Math.floor(Math.random() * versiculos.length);\r\n      setSorteado(versiculos[indiceAleatorio]);\r\n      setGirando(false);\r\n      setJaSorteou(true);\r\n\r\n      localStorage.setItem(\"jaSorteou\", \"true\");\r\n      timeoutRef.current = null;\r\n    }, 1200);\r\n  }\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"rain-overlay\"></div>\r\n      <div className=\"app-container\">\r\n        <h2 className=\"titulo\">Tudo tem um propósito debaixo do céu.</h2>\r\n\r\n        <button\r\n          onClick={iniciarRoleta}\r\n          disabled={girando || jaSorteou}\r\n          className=\"btn-roleta\"\r\n        >\r\n          {jaSorteou ? \"Deus seja contigo!\" : girando ? \"Procurando...\" : \"Ver\"}\r\n        </button>\r\n\r\n        {girando && <div className=\"card-placeholder\">Espere por Favor</div>}\r\n\r\n        {!girando && sorteado && <CardVersiculo data={sorteado} />}\r\n\r\n        {/* Inserção dos comentários */}\r\n        <Comentarios />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}